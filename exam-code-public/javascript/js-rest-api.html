<html lang="ko">
<head>
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"/>
    <meta charset="utf-8" />
    <title>Rest API exam</title>

    <script>
        async function onLoad() {
            console.log('onLoad')
            let jsonResponse = await testPost();
            console.log(JSON.stringify(jsonResponse));
            console.log("testPost done");
            let testDiv = document.getElementById('testDiv');
            testDiv.textContent = JSON.stringify(jsonResponse);
        }

        async function testPost() {
            const response = await fetch("https://jsonplaceholder.typicode.com/todos", {
                method: "POST",
                body: JSON.stringify({
                    userId: 2,
                    title: "My test api call",
                    completed: false,
                    name: "Hoyeong Lee"
                }),
                headers: {
                    "Content-type": "application/json; charset=UTF-8"
                }
            })
            const jsonResult = await response.json();
            return jsonResult;
        }

    </script>
</head>
<body onload="onLoad()">
    <h1>Test</h1>
    <div id="testDiv" style="width:600px;height:250px;"></div>
</body>
</html>